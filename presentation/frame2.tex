%!TEX root = ./main.tex

\begin{frame}
	%---------------------------------
	% Geometry
	\pgfmathsetmacro\dimension{1}% in [0,3]
	\pgfmathsetmacro\pointsPerLine{4}% in [1,\infty[

	%---------------------------------
	% Auto config
	\pgfmathsetmacro\xdim{\dimension>0}%
	\pgfmathsetmacro\ydim{\dimension>1}%
	\pgfmathsetmacro\zdim{\dimension>2}%
	\pgfmathsetmacro\pointsPerLineMinusOne{\pointsPerLine-1}%
	\pgfmathsetmacro\xnbr{\pointsPerLineMinusOne*\xdim}%
	\pgfmathsetmacro\ynbr{\pointsPerLineMinusOne*\ydim}%
	\pgfmathsetmacro\znbr{\pointsPerLineMinusOne*\zdim}%

	\resizebox{\textwidth}{!}{
		\begin{tikzpicture}[x={(1pt,0pt)},y={(0pt,1pt)},z={(0.45pt,0.35pt)},>=Latex]
			\tikzset{point/.style={
				draw,
				circle,
				minimum size=\pointsize,
				inner sep=0,
			}}

			% Coordinates
			\foreach \x in {0,...,\xnbr}
			{
				\foreach \y in {0,...,\ynbr}
				{
					\foreach \z in {0,...,\znbr}
					{
						\pgfmathsetmacro\num{int(\x+(\pointsPerLine*\y)+(\pointsPerLine*\pointsPerLine*\z))}
						\coordinate (point\num) at (\pointssep*\x,\pointssep*\y,\pointssep*\z) {};
						\coordinate (point_\x_\y_\z) at (\pointssep*\x,\pointssep*\y,\pointssep*\z) {};
					}
				}
			}

			% Lines
			\foreach \x in {0,...,\xnbr}
			{
				\foreach \y in {0,...,\ynbr}
				{
					\foreach \z in {0,...,\znbr}
					{
						\ifthenelse{\x=0}{}{
							\pgfmathsetmacro\lastx{int(\x-1)}
							\draw[line width=\lineswidth,lines_color] (point_\lastx_\y_\z) -- (point_\x_\y_\z);
						}
						\ifthenelse{\y=0}{}{
							\pgfmathsetmacro\lasty{int(\y-1)}
							\draw[line width=\lineswidth,lines_color] (point_\x_\lasty_\z) -- (point_\x_\y_\z);
						}
						\ifthenelse{\z=0}{}{
							\pgfmathsetmacro\lastz{int(\z-1)}
							\draw[line width=\lineswidth,lines_color] (point_\x_\y_\lastz) -- (point_\x_\y_\z);
						}
					}
				}
			}

			% Points and numbers
			\foreach \x in {0,...,\xnbr}
			{
				\foreach \y in {0,...,\ynbr}
				{
					\foreach \z in {0,...,\znbr}
					{
						% Config
						\pgfmathsetmacro\num{int(\x+(\pointsPerLine*\y)+(\pointsPerLine*\pointsPerLine*\z))}
						\pgfmathsetmacro\pointsize{\pointssize*5/(5+\z+1)}

						% Draw point
						\node[
							point,
							points_boder_color,
							fill=points_color
						] at (point_\x_\y_\z.center) {};
					}
				}
			}

			\uncover<1>{
				\node[below right=3pt] at (point_0_0_0.center) {$e_0$};
				\node[below right=3pt] at (point_1_0_0.center) {$e_1$};
				\node[below right=3pt] at (point_2_0_0.center) {$e_0 + e_1$};
				\node[below right=3pt] at (point_3_0_0.center) {$2 e_0 + e_1$};
			}
			\uncover<2->{
				\node[below right=3pt] at (point_0_0_0.center) {0};
				\node[below right=3pt] at (point_1_0_0.center) {1};
				\node[below right=3pt] at (point_2_0_0.center) {2};
				\node[below right=3pt] at (point_3_0_0.center) {3};
			}

			\node[anchor=center] at (4.5*\pointssep, 0) {
				\begin{minipage}{120pt}
					\centering%
					$PG(1,3)$
				\end{minipage}
			};

			\node at (5.5*\pointssep, 0) {};
		\end{tikzpicture}
	}%
	\begin{tikzpicture}[remember picture,overlay,x={(1pt,0pt)},y={(0pt,1pt)}]
		\node[anchor=south east] at ($(current page.south east)+(-3,10)$) {\tiny\textit{PG stands for Projective Geometry}};
	\end{tikzpicture}
\end{frame}
